# @optimizely/sdk-plugin-pending-events

An [`EventDispatcher`](https://developers.optimizely.com/x/solutions/sdks/reference/index.html?language=javascript#event-dispatcher) for Optimizely FullStack
that keeps a queue of pending (not completed) events and persist to localStorage. This allows us to retry events that are canceled by e.g. a page unload.

## Usage

See [`example`](./example) for an example of how this is used:

```sh
$ cd example
$ npm install
$ npm start
```

Load index.html in browser of your choice.

### API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### index

Construct an EventDispatcher compatible with @optimizely/optimizely-sdk

**Parameters**

-   `localStorageKey` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Key under which to persist/load pending events in `window.localStorage`

Returns **EventDispatcher** An object with a dispatchEvent method, suitable for use as an EventDispatcher
